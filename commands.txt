# Создание нового пользователя на VPS
adduser <имя_пользователя>

# Добавление нового пользователя в группу sudo
usermod -aG sudo <имя_пользователя>

# Убедитесь, что у нового пользователя есть доступ к SSH
mkdir -p /home/<имя_пользователя>/.ssh

# Копирование SSH ключа в домашнюю директорию нового пользователя
cp /root/.ssh/authorized_keys /home/<имя_пользователя>/.ssh/

# Убедитесь, что права на SSH ключи установлены правильно
chown -R <имя_пользователя>:<имя_пользователя> /home/<имя_пользователя>/.ssh

# Логин в GitHub Container Registry
echo "<ваш_гитхаб_токен>" | docker login ghcr.io -u <ваш_гитхаб_юзернейм> --password-stdin

# Создание SSH ключа для GitHub Actions на вашем VPS(можно использовать ту же команду и для создания SSH ключа на локальной машине)
ssh-keygen -t rsa -b 4096 -C "github-actions"

# Добавление SSH ключа в ssh-agent
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys

# Проверка содержимого SSH ключа
cat ~/.ssh/id_rsa

# Запуск докер композа (произойдет автоматическое скачивание образов)
docker compose up -d

# Проверка статуса запущенных контейнеров
docker ps

# Проверка логов контейнера
docker logs <имя_контейнера>